$ git clone git@github.com:docker-hy/rails-example-project.git
Cloning into 'rails-example-project'...
remote: Enumerating objects: 114, done.
remote: Counting objects: 100% (114/114), done.
remote: Compressing objects: 100% (96/96), done.
remote: Total 114 (delta 4), reused 114 (delta 4), pack-reused 0
Receiving objects: 100% (114/114), 27.01 KiB | 0 bytes/s, done.
Resolving deltas: 100% (4/4), done.
$ cd rails-example-project/
$ vi Dockerfile
$ cat Dockerfile 
FROM noonat/rbenv-nodenv
EXPOSE 3000
ENV RBENV_VERSION 2.6.0-preview2
ENV NODENV_VERSION  10.4.0
ENV BUNDLER_VERSION 1.17.2
ENV RAILS_LOG_TO_STDOUT=true
RUN rbenv install ${RBENV_VERSION} && \
    CONFIGURE_OPTS="--disable-install-doc" rbenv global ${RBENV_VERSION} && \
    gem install bundler -v ${BUNDLER_VERSION} && \
    nodenv install ${NODENV_VERSION} && \
    nodenv global ${NODENV_VERSION}
COPY . .
RUN bundle install
RUN rails db:migrate
CMD rails s
$ docker build -t rails-example .
Sending build context to Docker daemon  230.4kB
Step 1/11 : FROM noonat/rbenv-nodenv
latest: Pulling from noonat/rbenv-nodenv
cc1a78bfd46b: Pull complete 
8e8fbebaf92d: Pull complete 
5ea3aa50a161: Pull complete 
Digest: sha256:026e0f41006225d2cd6a1dc2826cf16407c1ed3d443105c71125b5fed9b1a46b
Status: Downloaded newer image for noonat/rbenv-nodenv:latest
 ---> 9c04e7ba4785
Step 2/11 : EXPOSE 3000
 ---> Running in 47cfb96ac6cd
Removing intermediate container 47cfb96ac6cd
 ---> 2081ea41215c
Step 3/11 : ENV RBENV_VERSION 2.6.0-preview2
 ---> Running in 9b2647c97c8c
Removing intermediate container 9b2647c97c8c
 ---> 0ed017f50e4f
Step 4/11 : ENV NODENV_VERSION  10.4.0
 ---> Running in 8a29f12f1b20
Removing intermediate container 8a29f12f1b20
 ---> f70f9bc2220a
Step 5/11 : ENV BUNDLER_VERSION 1.17.2
 ---> Running in 1a311f3a3b29
Removing intermediate container 1a311f3a3b29
 ---> d8eaec6de437
Step 6/11 : ENV RAILS_LOG_TO_STDOUT=true
 ---> Running in 01f5007836eb
Removing intermediate container 01f5007836eb
 ---> 2597e7cb9605
Step 7/11 : RUN rbenv install ${RBENV_VERSION} &&     CONFIGURE_OPTS="--disable-install-doc" rbenv global ${RBENV_VERSION} &&     gem install bundler -v ${BUNDLER_VERSION} &&     nodenv install ${NODENV_VERSION} &&     nodenv global ${NODENV_VERSION}
 ---> Running in 127ac395f08f
Downloading ruby-2.6.0-preview2.tar.bz2...
-> https://cache.ruby-lang.org/pub/ruby/2.6/ruby-2.6.0-preview2.tar.bz2
Installing ruby-2.6.0-preview2...
Installed ruby-2.6.0-preview2 to /root/.rbenv/versions/2.6.0-preview2

Successfully installed bundler-1.17.2
Parsing documentation for bundler-1.17.2
Installing ri documentation for bundler-1.17.2
Done installing documentation for bundler after 5 seconds
1 gem installed
Downloading node-v10.4.0-linux-x64.tar.gz...
-> https://nodejs.org/dist/v10.4.0/node-v10.4.0-linux-x64.tar.gz
Installing node-v10.4.0-linux-x64...
Installed node-v10.4.0-linux-x64 to /root/.nodenv/versions/10.4.0

Installed postinstall/postuninstall package hooks for 10.4.0
Removing intermediate container 127ac395f08f
 ---> 9442aeba5978
Step 8/11 : COPY . .
 ---> 770e049cadbd
Step 9/11 : RUN bundle install
 ---> Running in c226c1495bc7
Don't run Bundler as root. Bundler can ask for sudo if it is needed, and
installing your bundle as root will break this application for all non-root
users on this machine.
The dependency tzinfo-data (>= 0) will be unused by any of the platforms Bundler is installing for. Bundler is installing for ruby but the dependency is only for x86-mingw32, x86-mswin32, x64-mingw32, java. To add those platforms to the bundle, run `bundle lock --add-platform x86-mingw32 x86-mswin32 x64-mingw32 java`.
Fetching gem metadata from https://rubygems.org/..............
Fetching rake 12.3.2
Installing rake 12.3.2
Fetching concurrent-ruby 1.1.5
Installing concurrent-ruby 1.1.5
Fetching i18n 1.6.0
Installing i18n 1.6.0
Using minitest 5.11.3
Fetching thread_safe 0.3.6
Installing thread_safe 0.3.6
Fetching tzinfo 1.2.5
Installing tzinfo 1.2.5
Fetching activesupport 5.2.2.1
Installing activesupport 5.2.2.1
Fetching builder 3.2.3
Installing builder 3.2.3
Fetching erubi 1.8.0
Installing erubi 1.8.0
Fetching mini_portile2 2.4.0
Installing mini_portile2 2.4.0
Fetching nokogiri 1.10.1
Installing nokogiri 1.10.1 with native extensions
Fetching rails-dom-testing 2.0.3
Installing rails-dom-testing 2.0.3
Fetching crass 1.0.4
Installing crass 1.0.4
Fetching loofah 2.2.3
Installing loofah 2.2.3
Fetching rails-html-sanitizer 1.0.4
Installing rails-html-sanitizer 1.0.4
Fetching actionview 5.2.2.1
Installing actionview 5.2.2.1
Fetching rack 2.0.6
Installing rack 2.0.6
Fetching rack-test 1.1.0
Installing rack-test 1.1.0
Fetching actionpack 5.2.2.1
Installing actionpack 5.2.2.1
Fetching nio4r 2.3.1
Installing nio4r 2.3.1 with native extensions
Fetching websocket-extensions 0.1.3
Installing websocket-extensions 0.1.3
Fetching websocket-driver 0.7.0
Installing websocket-driver 0.7.0 with native extensions
Fetching actioncable 5.2.2.1
Installing actioncable 5.2.2.1
Fetching globalid 0.4.2
Installing globalid 0.4.2
Fetching activejob 5.2.2.1
Installing activejob 5.2.2.1
Fetching mini_mime 1.0.1
Installing mini_mime 1.0.1
Fetching mail 2.7.1
Installing mail 2.7.1
Fetching actionmailer 5.2.2.1
Installing actionmailer 5.2.2.1
Fetching activemodel 5.2.2.1
Installing activemodel 5.2.2.1
Fetching arel 9.0.0
Installing arel 9.0.0
Fetching activerecord 5.2.2.1
Installing activerecord 5.2.2.1
Fetching mimemagic 0.3.3
Installing mimemagic 0.3.3
Fetching marcel 0.3.3
Installing marcel 0.3.3
Fetching activestorage 5.2.2.1
Installing activestorage 5.2.2.1
Fetching public_suffix 3.0.3
Installing public_suffix 3.0.3
Fetching addressable 2.6.0
Installing addressable 2.6.0
Fetching io-like 0.3.0
Installing io-like 0.3.0
Fetching archive-zip 0.12.0
Installing archive-zip 0.12.0
Fetching bindex 0.5.0
Installing bindex 0.5.0 with native extensions
Fetching msgpack 1.2.9
Installing msgpack 1.2.9 with native extensions
Fetching bootsnap 1.4.1
Installing bootsnap 1.4.1 with native extensions
Using bundler 1.17.2
Fetching byebug 11.0.0
Installing byebug 11.0.0 with native extensions
Fetching regexp_parser 1.3.0
Installing regexp_parser 1.3.0
Fetching xpath 3.2.0
Installing xpath 3.2.0
Fetching capybara 3.14.0
Installing capybara 3.14.0
Fetching ffi 1.10.0
Installing ffi 1.10.0 with native extensions
Fetching childprocess 0.9.0
Installing childprocess 0.9.0
Fetching chromedriver-helper 2.1.0
Installing chromedriver-helper 2.1.0
Fetching coffee-script-source 1.12.2
Installing coffee-script-source 1.12.2
Fetching execjs 2.7.0
Installing execjs 2.7.0
Fetching coffee-script 2.4.1
Installing coffee-script 2.4.1
Fetching method_source 0.9.2
Installing method_source 0.9.2
Fetching thor 0.20.3
Installing thor 0.20.3
Fetching railties 5.2.2.1
Installing railties 5.2.2.1
Fetching coffee-rails 4.2.2
Installing coffee-rails 4.2.2
Fetching multi_json 1.13.1
Installing multi_json 1.13.1
Fetching jbuilder 2.8.0
Installing jbuilder 2.8.0
Fetching rb-fsevent 0.10.3
Installing rb-fsevent 0.10.3
Fetching rb-inotify 0.10.0
Installing rb-inotify 0.10.0
Fetching ruby_dep 1.5.0
Installing ruby_dep 1.5.0
Fetching listen 3.1.5
Installing listen 3.1.5
Fetching puma 3.12.0
Installing puma 3.12.0 with native extensions
Fetching sprockets 3.7.2
Installing sprockets 3.7.2
Fetching sprockets-rails 3.2.1
Installing sprockets-rails 3.2.1
Fetching rails 5.2.2.1
Installing rails 5.2.2.1
Fetching rubyzip 1.2.2
Installing rubyzip 1.2.2
Fetching sass-listen 4.0.0
Installing sass-listen 4.0.0
Fetching sass 3.7.3
Installing sass 3.7.3
Fetching tilt 2.0.9
Installing tilt 2.0.9
Fetching sass-rails 5.0.7
Installing sass-rails 5.0.7
Fetching selenium-webdriver 3.141.0
Installing selenium-webdriver 3.141.0
Fetching spring 2.0.2
Installing spring 2.0.2
Fetching spring-watcher-listen 2.0.1
Installing spring-watcher-listen 2.0.1
Fetching sqlite3 1.3.13
Installing sqlite3 1.3.13 with native extensions
Fetching turbolinks-source 5.2.0
Installing turbolinks-source 5.2.0
Fetching turbolinks 5.2.0
Installing turbolinks 5.2.0
Fetching uglifier 4.1.20
Installing uglifier 4.1.20
Fetching web-console 3.7.0
Installing web-console 3.7.0
Bundle complete! 18 Gemfile dependencies, 79 gems now installed.
Use `bundle info [gemname]` to see where a bundled gem is installed.
Post-install message from i18n:

HEADS UP! i18n 1.1 changed fallbacks to exclude default locale.
But that may break your application.

Please check your Rails app for 'config.i18n.fallbacks = true'.
If you're using I18n (>= 1.1.0) and Rails (< 5.2.2), this should be
'config.i18n.fallbacks = [I18n.default_locale]'.
If not, fallbacks will be broken in your app by I18n 1.1.x.

For more info see:
https://github.com/svenfuchs/i18n/releases/tag/v1.1.0

Post-install message from sass:

Ruby Sass is deprecated and will be unmaintained as of 26 March 2019.

* If you use Sass as a command-line tool, we recommend using Dart Sass, the new
  primary implementation: https://sass-lang.com/install

* If you use Sass as a plug-in for a Ruby web framework, we recommend using the
  sassc gem: https://github.com/sass/sassc-ruby#readme

* For more details, please refer to the Sass blog:
  http://sass.logdown.com/posts/7081811

Removing intermediate container c226c1495bc7
 ---> dfaf1f8ae899
Step 10/11 : RUN rails db:migrate
 ---> Running in 60dca55ca724
== 20190314120316 CreatePresses: migrating ====================================
-- create_table(:presses)
   -> 0.0008s
== 20190314120316 CreatePresses: migrated (0.0008s) ===========================

Removing intermediate container 60dca55ca724
 ---> 2dd93b2c1427
Step 11/11 : CMD rails s
 ---> Running in f99e051779a3
Removing intermediate container f99e051779a3
 ---> 4218f480176e
Successfully built 4218f480176e
Successfully tagged rails-example:latest
$ docker run -d -p 3000:3000 --name rails rails-example
155bc8d1e2693dd146db37924607a6d8a85434fa7fd30a943b1be7c5281ff464
$ docker logs --tail 2 rails
$ firefox http://localhost:3000 &
#---
New Press
Total presses: 0 
[Press]
[List Presses]
#>>>
New Press
Total presses: 1
Press was successfully created.
[Press]
[List presses]
#---
$ docker stop rails
rails
$
