##### Console 1: Building 2.10 versions of backend and frontend images
$ cd DevOpsWithDocker/Part2/2.10/
$ docker system prune --all --force
Total reclaimed space: 0B
$ docker volume prune --force
Total reclaimed space: 0B
$ docker build -t backend:2.10 -f Dockerfile.backend .
Sending build context to Docker daemon    361kB
Step 1/7 : FROM node
latest: Pulling from library/node
a4d8138d0f6b: Pull complete 
dbdc36973392: Pull complete 
f59d6d019dd5: Pull complete 
aaef3e026258: Pull complete 
6e454d3b6c28: Pull complete 
c717a7c205aa: Pull complete 
e8566b4564fe: Pull complete 
04239395be03: Pull complete 
27ace7d95321: Pull complete 
Digest: sha256:6e64f63a663a368cc81b28ed3c3e29e6b3784c04f0128be5aaa659157ed4d231
Status: Downloaded newer image for node:latest
 ---> 7c412a558705
Step 2/7 : EXPOSE 8000
 ---> Running in 3cf4fe9275ec
Removing intermediate container 3cf4fe9275ec
 ---> d82f84d4bdd7
Step 3/7 : ENV FRONT_URL=http://nginx:80
 ---> Running in e890867f3d21
Removing intermediate container e890867f3d21
 ---> e1f61b66028a
Step 4/7 : WORKDIR /home/node/
 ---> Running in 4703bb2cdc76
Removing intermediate container 4703bb2cdc76
 ---> bde1ea861e4c
Step 5/7 : RUN wget https://github.com/docker-hy/backend-example-docker/archive/master.zip &&     unzip master.zip &&     mv -f backend-example-docker-master/* . &&     rm -fr master.zip backend-example-docker-master &&     mkdir logs &&     mv -f logs.txt logs/ &&     ln -s /home/node/logs/logs.txt /home/node/logs.txt &&     chown -R node:node .
 ---> Running in cfeb6ed93a0a
--2019-07-18 09:24:43--  https://github.com/docker-hy/backend-example-docker/archive/master.zip
Resolving github.com (github.com)... 140.82.118.4
Connecting to github.com (github.com)|140.82.118.4|:443... connected.
HTTP request sent, awaiting response... 302 Found
Location: https://codeload.github.com/docker-hy/backend-example-docker/zip/master [following]
--2019-07-18 09:24:44--  https://codeload.github.com/docker-hy/backend-example-docker/zip/master
Resolving codeload.github.com (codeload.github.com)... 140.82.113.10
Connecting to codeload.github.com (codeload.github.com)|140.82.113.10|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: unspecified [application/zip]
Saving to: 'master.zip'

     0K .......... .......... .......... .......... ..........  163K
    50K ...                                                    9.24M=0.3s

2019-07-18 09:24:45 (173 KB/s) - 'master.zip' saved [54304]

Archive:  master.zip
fb33e1fca953fabd43c429e5b3f53d3a1e17baff
   creating: backend-example-docker-master/
  inflating: backend-example-docker-master/.gitignore  
  inflating: backend-example-docker-master/README.md  
  inflating: backend-example-docker-master/config.js  
  inflating: backend-example-docker-master/index.js  
 extracting: backend-example-docker-master/logs.txt  
  inflating: backend-example-docker-master/package-lock.json  
  inflating: backend-example-docker-master/package.json  
   creating: backend-example-docker-master/server/
   creating: backend-example-docker-master/server/controllers/
  inflating: backend-example-docker-master/server/controllers/messageController.js  
   creating: backend-example-docker-master/server/database/
  inflating: backend-example-docker-master/server/database/connection.js  
  inflating: backend-example-docker-master/server/index.js  
   creating: backend-example-docker-master/server/models/
  inflating: backend-example-docker-master/server/models/message.js  
  inflating: backend-example-docker-master/server/redis.js  
  inflating: backend-example-docker-master/server/routes.js  
Removing intermediate container cfeb6ed93a0a
 ---> d2158456bf8e
Step 6/7 : RUN npm install
 ---> Running in 1d538af00ccc

> nodemon@1.18.9 postinstall /home/node/node_modules/nodemon
> node bin/postinstall || exit 0

Love nodemon? You can now support the project via the open collective:
 > https://opencollective.com/nodemon/donate

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.4 (node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.4: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

added 606 packages from 458 contributors and audited 5317 packages in 18.185s
found 272 vulnerabilities (1 moderate, 271 high)
  run `npm audit fix` to fix them, or `npm audit` for details
Removing intermediate container 1d538af00ccc
 ---> fbe302e0aa0c
Step 7/7 : CMD npm start
 ---> Running in ce6a2c96771d
Removing intermediate container ce6a2c96771d
 ---> 619fd409a262
Successfully built 619fd409a262
Successfully tagged backend:2.10
$ docker build -t frontend:2.10 -f Dockerfile.frontend .
Sending build context to Docker daemon    361kB
Step 1/7 : FROM node
 ---> 7c412a558705
Step 2/7 : EXPOSE 5000
 ---> Using cache
 ---> 5de125a14cb9
Step 3/7 : ENV API_URL=http://localhost:80/api
 ---> Using cache
 ---> 219ad8ea1cad
Step 4/7 : WORKDIR /home/node/
 ---> Using cache
 ---> 9eceab101788
Step 5/7 : RUN wget https://github.com/docker-hy/frontend-example-docker/archive/master.zip &&     unzip master.zip &&     mv -f frontend-example-docker-master/* . &&     rm -fr master.zip frontend-example-docker-master &&     mkdir logs &&     touch /home/node/logs/logs.txt &&     ln -s /home/node/logs/logs.txt /home/node/logs.txt &&     chown -R node:node .
 ---> Running in 975c04ec507e
--2019-07-18 09:31:08--  https://github.com/docker-hy/frontend-example-docker/archive/master.zip
Resolving github.com (github.com)... 140.82.118.4
Connecting to github.com (github.com)|140.82.118.4|:443... connected.
HTTP request sent, awaiting response... 302 Found
Location: https://codeload.github.com/docker-hy/frontend-example-docker/zip/master [following]
--2019-07-18 09:31:08--  https://codeload.github.com/docker-hy/frontend-example-docker/zip/master
Resolving codeload.github.com (codeload.github.com)... 140.82.113.9
Connecting to codeload.github.com (codeload.github.com)|140.82.113.9|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: unspecified [application/zip]
Saving to: 'master.zip'

     0K .......... .......... .......... .......... ..........  211K
    50K .......... .......... .......... .......... ..........  417K
   100K .                                                      31.5M=0.4s

2019-07-18 09:31:09 (285 KB/s) - 'master.zip' saved [104069]

Archive:  master.zip
c7fbf423d5ad397669cec1f0d8471df44e96fe9b
   creating: frontend-example-docker-master/
  inflating: frontend-example-docker-master/.gitignore  
  inflating: frontend-example-docker-master/README.md  
  inflating: frontend-example-docker-master/config.js  
  inflating: frontend-example-docker-master/package-lock.json  
  inflating: frontend-example-docker-master/package.json  
   creating: frontend-example-docker-master/src/
   creating: frontend-example-docker-master/src/assets/
  inflating: frontend-example-docker-master/src/assets/custom.css  
  inflating: frontend-example-docker-master/src/assets/toscalogo_black.svg  
  inflating: frontend-example-docker-master/src/assets/toscalogo_color.svg  
  inflating: frontend-example-docker-master/src/assets/toscalogo_grayscale.svg  
  inflating: frontend-example-docker-master/src/assets/toscalogo_white.svg  
   creating: frontend-example-docker-master/src/components/
  inflating: frontend-example-docker-master/src/components/App.js  
   creating: frontend-example-docker-master/src/components/ExercisesList/
  inflating: frontend-example-docker-master/src/components/ExercisesList/ExerciseAmIRunning.js  
  inflating: frontend-example-docker-master/src/components/ExercisesList/ExerciseBackendConnection.js  
  inflating: frontend-example-docker-master/src/components/ExercisesList/ExerciseDBConnection.js  
  inflating: frontend-example-docker-master/src/components/ExercisesList/ExerciseNginxSetup.js  
  inflating: frontend-example-docker-master/src/components/ExercisesList/ExerciseRedisSetup.js  
  inflating: frontend-example-docker-master/src/components/ExercisesList/index.js  
  inflating: frontend-example-docker-master/src/components/Footer.js  
  inflating: frontend-example-docker-master/src/components/NavBar.js  
  inflating: frontend-example-docker-master/src/components/OnlyView.js  
  inflating: frontend-example-docker-master/src/components/Router.js  
  inflating: frontend-example-docker-master/src/index.js  
   creating: frontend-example-docker-master/src/util/
  inflating: frontend-example-docker-master/src/util/apiConnection.js  
  inflating: frontend-example-docker-master/src/util/common.js  
   creating: frontend-example-docker-master/src/util/redux/
  inflating: frontend-example-docker-master/src/util/redux/index.js  
  inflating: frontend-example-docker-master/src/util/redux/messageReducer.js  
  inflating: frontend-example-docker-master/src/util/redux/simpleReducer.js  
  inflating: frontend-example-docker-master/src/util/store.js  
   creating: frontend-example-docker-master/util/
  inflating: frontend-example-docker-master/util/common.js  
  inflating: frontend-example-docker-master/webpack.config.js  
Removing intermediate container 975c04ec507e
 ---> a3230be13b0e
Step 6/7 : RUN npm install
 ---> Running in b2b3cbb2d14a
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.7 (node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.7: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

added 1029 packages from 415 contributors and audited 11636 packages in 21.214s
found 311 vulnerabilities (4 moderate, 307 high)
  run `npm audit fix` to fix them, or `npm audit` for details
Removing intermediate container b2b3cbb2d14a
 ---> 83dae42140d2
Step 7/7 : CMD npm start
 ---> Running in 97a27798dd1e
Removing intermediate container 97a27798dd1e
 ---> 3f070fa0d96c
Successfully built 3f070fa0d96c
Successfully tagged frontend:2.10
$ docker history --no-trunc backend:2.10
IMAGE                                                                     CREATED             CREATED BY                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          SIZE                COMMENT
sha256:619fd409a262b8f70f17f1729d3a8e5a2137bfe5779cf6ccd779ebd5a2a9c7c7   9 minutes ago       /bin/sh -c #(nop)  CMD ["/bin/sh" "-c" "npm start"]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 0B                  
sha256:fbe302e0aa0c9a2100ad2c60bc99c8d97fa3bff22fdbc749a1bdbc043aa87951   9 minutes ago       /bin/sh -c npm install                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              58.4MB              
sha256:d2158456bf8e85db1c116b325128f2f59ba2bfc0309833ef19e9fa234b88359d   10 minutes ago      /bin/sh -c wget https://github.com/docker-hy/backend-example-docker/archive/master.zip &&     unzip master.zip &&     mv -f backend-example-docker-master/* . &&     rm -fr master.zip backend-example-docker-master &&     mkdir logs &&     mv -f logs.txt logs/ &&     ln -s /home/node/logs/logs.txt /home/node/logs.txt &&     chown -R node:node .                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            223kB               
sha256:bde1ea861e4c067b1101c2b9f7875c0e3b7137d8df33f390a9e89c465b76dca4   10 minutes ago      /bin/sh -c #(nop) WORKDIR /home/node/                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               0B                  
sha256:e1f61b66028adfc4e43a3c9d0220caf8bd8efd7444e9f8f5f7ae5e3087133f54   10 minutes ago      /bin/sh -c #(nop)  ENV FRONT_URL=http://nginx:80                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    0B                  
sha256:d82f84d4bdd77a32f9ee68f54f753736a71cc1e3eb2ab4aa7ce30945fd683de6   10 minutes ago      /bin/sh -c #(nop)  EXPOSE 8000                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      0B                  
sha256:7c412a5587051c072ead1d7b44be8433ac9aaeb69d507116f3acb929bb537080   6 days ago          /bin/sh -c #(nop)  CMD ["node"]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     0B                  
<missing>                                                                 6 days ago          /bin/sh -c #(nop)  ENTRYPOINT ["docker-entrypoint.sh"]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              0B                  
<missing>                                                                 6 days ago          /bin/sh -c #(nop) COPY file:238737301d47304174e4d24f4def935b29b3069c03c72ae8de97d94624382fce in /usr/local/bin/                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     116B                
<missing>                                                                 6 days ago          /bin/sh -c set -ex   && for key in     6A010C5166006599AA17F08146C2130DFD2497F5   ; do     gpg --batch --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-keys "$key" ||     gpg --batch --keyserver hkp://ipv4.pool.sks-keyservers.net --recv-keys "$key" ||     gpg --batch --keyserver hkp://pgp.mit.edu:80 --recv-keys "$key" ;   done   && curl -fsSLO --compressed "https://yarnpkg.com/downloads/$YARN_VERSION/yarn-v$YARN_VERSION.tar.gz"   && curl -fsSLO --compressed "https://yarnpkg.com/downloads/$YARN_VERSION/yarn-v$YARN_VERSION.tar.gz.asc"   && gpg --batch --verify yarn-v$YARN_VERSION.tar.gz.asc yarn-v$YARN_VERSION.tar.gz   && mkdir -p /opt   && tar -xzf yarn-v$YARN_VERSION.tar.gz -C /opt/   && ln -s /opt/yarn-v$YARN_VERSION/bin/yarn /usr/local/bin/yarn   && ln -s /opt/yarn-v$YARN_VERSION/bin/yarnpkg /usr/local/bin/yarnpkg   && rm yarn-v$YARN_VERSION.tar.gz.asc yarn-v$YARN_VERSION.tar.gz                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                5.08MB              
<missing>                                                                 6 days ago          /bin/sh -c #(nop)  ENV YARN_VERSION=1.16.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          0B                  
<missing>                                                                 6 days ago          /bin/sh -c ARCH= && dpkgArch="$(dpkg --print-architecture)"   && case "${dpkgArch##*-}" in     amd64) ARCH='x64';;     ppc64el) ARCH='ppc64le';;     s390x) ARCH='s390x';;     arm64) ARCH='arm64';;     armhf) ARCH='armv7l';;     i386) ARCH='x86';;     *) echo "unsupported architecture"; exit 1 ;;   esac   && set -ex   && for key in     94AE36675C464D64BAFA68DD7434390BDBE9B9C5     FD3A5288F042B6850C66B31F09FE44734EB7990E     71DCFD284A79C3B38668286BC97EC7A07EDE3FC1     DD8F2338BAE7501E3DD5AC78C273792F7D83545D     C4F0DFFF4E8C1A8236409D08E73BC641CC11F4C8     B9AE9905FFD7803F25714661B63B535A4C206CA9     77984A986EBC2AA786BC0F66B01FBB92821C587A     8FCCA13FEF1D0C2E91008E09770F7A9A5AE15600     4ED778F539E3634C779C87C6D7062848A1AB005C     A48C2BEE680E841632CD4E44F07496B3EB3C1762     B9E2F5981AA6E0CD28160D9FF13993A75599653C   ; do     gpg --batch --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-keys "$key" ||     gpg --batch --keyserver hkp://ipv4.pool.sks-keyservers.net --recv-keys "$key" ||     gpg --batch --keyserver hkp://pgp.mit.edu:80 --recv-keys "$key" ;   done   && curl -fsSLO --compressed "https://nodejs.org/dist/v$NODE_VERSION/node-v$NODE_VERSION-linux-$ARCH.tar.xz"   && curl -fsSLO --compressed "https://nodejs.org/dist/v$NODE_VERSION/SHASUMS256.txt.asc"   && gpg --batch --decrypt --output SHASUMS256.txt SHASUMS256.txt.asc   && grep " node-v$NODE_VERSION-linux-$ARCH.tar.xz\$" SHASUMS256.txt | sha256sum -c -   && tar -xJf "node-v$NODE_VERSION-linux-$ARCH.tar.xz" -C /usr/local --strip-components=1 --no-same-owner   && rm "node-v$NODE_VERSION-linux-$ARCH.tar.xz" SHASUMS256.txt.asc SHASUMS256.txt   && ln -s /usr/local/bin/node /usr/local/bin/nodejs   66.1MB              
<missing>                                                                 6 days ago          /bin/sh -c #(nop)  ENV NODE_VERSION=12.6.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          0B                  
<missing>                                                                 6 days ago          /bin/sh -c groupadd --gid 1000 node   && useradd --uid 1000 --gid node --shell /bin/bash --create-home node                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         333kB               
<missing>                                                                 8 days ago          /bin/sh -c set -ex;  apt-get update;  apt-get install -y --no-install-recommends   autoconf   automake   bzip2   dpkg-dev   file   g++   gcc   imagemagick   libbz2-dev   libc6-dev   libcurl4-openssl-dev   libdb-dev   libevent-dev   libffi-dev   libgdbm-dev   libgeoip-dev   libglib2.0-dev   libgmp-dev   libjpeg-dev   libkrb5-dev   liblzma-dev   libmagickcore-dev   libmagickwand-dev   libncurses5-dev   libncursesw5-dev   libpng-dev   libpq-dev   libreadline-dev   libsqlite3-dev   libssl-dev   libtool   libwebp-dev   libxml2-dev   libxslt-dev   libyaml-dev   make   patch   unzip   xz-utils   zlib1g-dev     $(    if apt-cache show 'default-libmysqlclient-dev' 2>/dev/null | grep -q '^Version:'; then     echo 'default-libmysqlclient-dev';    else     echo 'libmysqlclient-dev';    fi   )  ;  rm -rf /var/lib/apt/lists/*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             562MB               
<missing>                                                                 8 days ago          /bin/sh -c apt-get update && apt-get install -y --no-install-recommends   bzr   git   mercurial   openssh-client   subversion     procps  && rm -rf /var/lib/apt/lists/*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            142MB               
<missing>                                                                 8 days ago          /bin/sh -c set -ex;  if ! command -v gpg > /dev/null; then   apt-get update;   apt-get install -y --no-install-recommends    gnupg    dirmngr   ;   rm -rf /var/lib/apt/lists/*;  fi                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                7.81MB              
<missing>                                                                 8 days ago          /bin/sh -c apt-get update && apt-get install -y --no-install-recommends   ca-certificates   curl   netbase   wget  && rm -rf /var/lib/apt/lists/*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   23.2MB              
<missing>                                                                 8 days ago          /bin/sh -c #(nop)  CMD ["bash"]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     0B                  
<missing>                                                                 8 days ago          /bin/sh -c #(nop) ADD file:f615b611820773fd6bdf2fda01a5b2f24ca2877bd63fa0abd274985bed212e67 in /                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    101MB               
$ docker history --no-trunc frontendend:2.10
IMAGE                                                                     CREATED             CREATED BY                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          SIZE                COMMENT
sha256:3f070fa0d96c272400e8d7ba471d811ea360840ffb129ce8dc8c7a7906ddaa3d   4 minutes ago       /bin/sh -c #(nop)  CMD ["/bin/sh" "-c" "npm start"]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 0B                  
sha256:83dae42140d238134d614e6cf35be3411bca39897fd73d108a3b3aa65fc72093   4 minutes ago       /bin/sh -c npm install                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              155MB               
sha256:a3230be13b0e556e623685d36d4fdaefe251507757e34ef26f68aae60313fecc   5 minutes ago       /bin/sh -c wget https://github.com/docker-hy/frontend-example-docker/archive/master.zip &&     unzip master.zip &&     mv -f frontend-example-docker-master/* . &&     rm -fr master.zip frontend-example-docker-master &&     mkdir logs &&     touch /home/node/logs/logs.txt &&     ln -s /home/node/logs/logs.txt /home/node/logs.txt &&     chown -R node:node .                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               389kB               
sha256:9eceab10178808caed21da4fa520a698e626dbad3c7725d0cbdb4934cda449e5   9 minutes ago       /bin/sh -c #(nop) WORKDIR /home/node/                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               0B                  
sha256:219ad8ea1cad0517929628cafe07107074310bdaf116edb6d4434a1c85cad347   9 minutes ago       /bin/sh -c #(nop)  ENV API_URL=http://localhost:80/api                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              0B                  
sha256:5de125a14cb9bdc261192787ddd5628b73b0d116751594356899e368c115a063   9 minutes ago       /bin/sh -c #(nop)  EXPOSE 5000                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      0B                  
sha256:7c412a5587051c072ead1d7b44be8433ac9aaeb69d507116f3acb929bb537080   6 days ago          /bin/sh -c #(nop)  CMD ["node"]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     0B                  
<missing>                                                                 6 days ago          /bin/sh -c #(nop)  ENTRYPOINT ["docker-entrypoint.sh"]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              0B                  
<missing>                                                                 6 days ago          /bin/sh -c #(nop) COPY file:238737301d47304174e4d24f4def935b29b3069c03c72ae8de97d94624382fce in /usr/local/bin/                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     116B                
<missing>                                                                 6 days ago          /bin/sh -c set -ex   && for key in     6A010C5166006599AA17F08146C2130DFD2497F5   ; do     gpg --batch --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-keys "$key" ||     gpg --batch --keyserver hkp://ipv4.pool.sks-keyservers.net --recv-keys "$key" ||     gpg --batch --keyserver hkp://pgp.mit.edu:80 --recv-keys "$key" ;   done   && curl -fsSLO --compressed "https://yarnpkg.com/downloads/$YARN_VERSION/yarn-v$YARN_VERSION.tar.gz"   && curl -fsSLO --compressed "https://yarnpkg.com/downloads/$YARN_VERSION/yarn-v$YARN_VERSION.tar.gz.asc"   && gpg --batch --verify yarn-v$YARN_VERSION.tar.gz.asc yarn-v$YARN_VERSION.tar.gz   && mkdir -p /opt   && tar -xzf yarn-v$YARN_VERSION.tar.gz -C /opt/   && ln -s /opt/yarn-v$YARN_VERSION/bin/yarn /usr/local/bin/yarn   && ln -s /opt/yarn-v$YARN_VERSION/bin/yarnpkg /usr/local/bin/yarnpkg   && rm yarn-v$YARN_VERSION.tar.gz.asc yarn-v$YARN_VERSION.tar.gz                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                5.08MB              
<missing>                                                                 6 days ago          /bin/sh -c #(nop)  ENV YARN_VERSION=1.16.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          0B                  
<missing>                                                                 6 days ago          /bin/sh -c ARCH= && dpkgArch="$(dpkg --print-architecture)"   && case "${dpkgArch##*-}" in     amd64) ARCH='x64';;     ppc64el) ARCH='ppc64le';;     s390x) ARCH='s390x';;     arm64) ARCH='arm64';;     armhf) ARCH='armv7l';;     i386) ARCH='x86';;     *) echo "unsupported architecture"; exit 1 ;;   esac   && set -ex   && for key in     94AE36675C464D64BAFA68DD7434390BDBE9B9C5     FD3A5288F042B6850C66B31F09FE44734EB7990E     71DCFD284A79C3B38668286BC97EC7A07EDE3FC1     DD8F2338BAE7501E3DD5AC78C273792F7D83545D     C4F0DFFF4E8C1A8236409D08E73BC641CC11F4C8     B9AE9905FFD7803F25714661B63B535A4C206CA9     77984A986EBC2AA786BC0F66B01FBB92821C587A     8FCCA13FEF1D0C2E91008E09770F7A9A5AE15600     4ED778F539E3634C779C87C6D7062848A1AB005C     A48C2BEE680E841632CD4E44F07496B3EB3C1762     B9E2F5981AA6E0CD28160D9FF13993A75599653C   ; do     gpg --batch --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-keys "$key" ||     gpg --batch --keyserver hkp://ipv4.pool.sks-keyservers.net --recv-keys "$key" ||     gpg --batch --keyserver hkp://pgp.mit.edu:80 --recv-keys "$key" ;   done   && curl -fsSLO --compressed "https://nodejs.org/dist/v$NODE_VERSION/node-v$NODE_VERSION-linux-$ARCH.tar.xz"   && curl -fsSLO --compressed "https://nodejs.org/dist/v$NODE_VERSION/SHASUMS256.txt.asc"   && gpg --batch --decrypt --output SHASUMS256.txt SHASUMS256.txt.asc   && grep " node-v$NODE_VERSION-linux-$ARCH.tar.xz\$" SHASUMS256.txt | sha256sum -c -   && tar -xJf "node-v$NODE_VERSION-linux-$ARCH.tar.xz" -C /usr/local --strip-components=1 --no-same-owner   && rm "node-v$NODE_VERSION-linux-$ARCH.tar.xz" SHASUMS256.txt.asc SHASUMS256.txt   && ln -s /usr/local/bin/node /usr/local/bin/nodejs   66.1MB              
<missing>                                                                 6 days ago          /bin/sh -c #(nop)  ENV NODE_VERSION=12.6.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          0B                  
<missing>                                                                 6 days ago          /bin/sh -c groupadd --gid 1000 node   && useradd --uid 1000 --gid node --shell /bin/bash --create-home node                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         333kB               
<missing>                                                                 8 days ago          /bin/sh -c set -ex;  apt-get update;  apt-get install -y --no-install-recommends   autoconf   automake   bzip2   dpkg-dev   file   g++   gcc   imagemagick   libbz2-dev   libc6-dev   libcurl4-openssl-dev   libdb-dev   libevent-dev   libffi-dev   libgdbm-dev   libgeoip-dev   libglib2.0-dev   libgmp-dev   libjpeg-dev   libkrb5-dev   liblzma-dev   libmagickcore-dev   libmagickwand-dev   libncurses5-dev   libncursesw5-dev   libpng-dev   libpq-dev   libreadline-dev   libsqlite3-dev   libssl-dev   libtool   libwebp-dev   libxml2-dev   libxslt-dev   libyaml-dev   make   patch   unzip   xz-utils   zlib1g-dev     $(    if apt-cache show 'default-libmysqlclient-dev' 2>/dev/null | grep -q '^Version:'; then     echo 'default-libmysqlclient-dev';    else     echo 'libmysqlclient-dev';    fi   )  ;  rm -rf /var/lib/apt/lists/*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             562MB               
<missing>                                                                 8 days ago          /bin/sh -c apt-get update && apt-get install -y --no-install-recommends   bzr   git   mercurial   openssh-client   subversion     procps  && rm -rf /var/lib/apt/lists/*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            142MB               
<missing>                                                                 8 days ago          /bin/sh -c set -ex;  if ! command -v gpg > /dev/null; then   apt-get update;   apt-get install -y --no-install-recommends    gnupg    dirmngr   ;   rm -rf /var/lib/apt/lists/*;  fi                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                7.81MB              
<missing>                                                                 8 days ago          /bin/sh -c apt-get update && apt-get install -y --no-install-recommends   ca-certificates   curl   netbase   wget  && rm -rf /var/lib/apt/lists/*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   23.2MB              
<missing>                                                                 8 days ago          /bin/sh -c #(nop)  CMD ["bash"]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     0B                  
<missing>                                                                 8 days ago          /bin/sh -c #(nop) ADD file:f615b611820773fd6bdf2fda01a5b2f24ca2877bd63fa0abd274985bed212e67 in /                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    101MB               
$  docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
frontend            2.10                3f070fa0d96c        18 minutes ago      1.06GB
backend             2.10                619fd409a262        25 minutes ago      966MB
node                latest              7c412a558705        6 days ago          907MB
$
##### Console 2: Building 3.1 versions of backend and frontend images
$ cd DevOpsWithDocker/Part3/3.1
$ docker build -t backend:3.1 -f Dockerfile.backend .
Sending build context to Docker daemon  186.9kB
Step 1/6 : FROM node:slim
 ---> 2523ec7bd8fd
Step 2/6 : EXPOSE 8000
 ---> Using cache
 ---> cf758416953c
Step 3/6 : ENV FRONT_URL=http://nginx:80
 ---> Using cache
 ---> 081898013cb0
Step 4/6 : WORKDIR /home/node/
 ---> Using cache
 ---> 823476ddb2a5
Step 5/6 : RUN wget -O - https://github.com/docker-hy/backend-example-docker/tarball/master | tar xz &&     mv -f docker-hy-backend-example-docker-*/* . &&     rm -f -r docker-hy-backend-example-docker-* &&     mkdir /home/node/logs &&     mv -f logs.txt logs/ &&     ln -s /home/node/logs/logs.txt /home/node/logs.txt &&     npm install --production --global cross-env &&     npm install --production &&     rm -f -r README.md /var/cache/* /var/log/* /var/tmp/* /tmp/* &&     chown -R node:node .
 ---> Running in d23977f92a3e
--2019-07-18 11:10:19--  https://github.com/docker-hy/backend-example-docker/tarball/master
Resolving github.com (github.com)... 140.82.118.4
Connecting to github.com (github.com)|140.82.118.4|:443... connected.
HTTP request sent, awaiting response... 302 Found
Location: https://codeload.github.com/docker-hy/backend-example-docker/legacy.tar.gz/master [following]
--2019-07-18 11:10:19--  https://codeload.github.com/docker-hy/backend-example-docker/legacy.tar.gz/master
Resolving codeload.github.com (codeload.github.com)... 192.30.253.120
Connecting to codeload.github.com (codeload.github.com)|192.30.253.120|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: unspecified [application/x-gzip]
Saving to: 'STDOUT'

     0K .......... .......... .......... .......... .........   194K=0.3s

2019-07-18 11:10:20 (194 KB/s) - written to stdout [51130]

/usr/local/bin/cross-env -> /usr/local/lib/node_modules/cross-env/dist/bin/cross-env.js
/usr/local/bin/cross-env-shell -> /usr/local/lib/node_modules/cross-env/dist/bin/cross-env-shell.js
+ cross-env@5.2.0
added 10 packages from 8 contributors in 0.872s
added 360 packages from 378 contributors and audited 5317 packages in 8.824s
found 272 vulnerabilities (1 moderate, 271 high)
  run `npm audit fix` to fix them, or `npm audit` for details
Removing intermediate container d23977f92a3e
 ---> cfcf69eaf8c2
Step 6/6 : CMD npm start
 ---> Running in 9dc6f01cebbf
Removing intermediate container 9dc6f01cebbf
 ---> 430d222f4e26
Successfully built 430d222f4e26
Successfully tagged backend:3.1
$ docker build -t frontend:3.1 -f Dockerfile.frontend .
Sending build context to Docker daemon  93.18kB
Step 1/6 : FROM node:slim
 ---> 2523ec7bd8fd
Step 2/6 : EXPOSE 5000
 ---> Running in 7708fc31e95f
Removing intermediate container 7708fc31e95f
 ---> cb41318bfc6f
Step 3/6 : ENV API_URL=http://localhost:80/api
 ---> Running in 3230d9a5e7b8
Removing intermediate container 3230d9a5e7b8
 ---> b09148e0636e
Step 4/6 : WORKDIR /home/node/
 ---> Running in d05f113f07d3
Removing intermediate container d05f113f07d3
 ---> e2f01d0925ec
Step 5/6 : RUN wget -O - https://github.com/docker-hy/frontend-example-docker/tarball/master | tar xz &&     mv -f docker-hy-frontend-example-docker-*/* . &&     rm -f -r docker-hy-frontend-example-docker-* &&     mkdir /home/node/logs &&     touch /home/node/logs/logs.txt &&     ln -s /home/node/logs/logs.txt /home/node/logs.txt &&     npm install --production &&     rm -f -r README.md /var/cache/* /var/log/* /var/tmp/* /tmp/* &&     chown -R node:node .
 ---> Running in 7a0c938acb1c
--2019-07-18 10:36:29--  https://github.com/docker-hy/frontend-example-docker/tarball/master
Resolving github.com (github.com)... 140.82.118.3
Connecting to github.com (github.com)|140.82.118.3|:443... connected.
HTTP request sent, awaiting response... 302 Found
Location: https://codeload.github.com/docker-hy/frontend-example-docker/legacy.tar.gz/master [following]
--2019-07-18 10:36:30--  https://codeload.github.com/docker-hy/frontend-example-docker/legacy.tar.gz/master
Resolving codeload.github.com (codeload.github.com)... 140.82.114.9
Connecting to codeload.github.com (codeload.github.com)|140.82.114.9|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: unspecified [application/x-gzip]
Saving to: 'STDOUT'

     0K .......... .......... .......... .......... ..........  161K
    50K .......... .......... .......... .........             15.9M=0.3s

2019-07-18 10:36:31 (286 KB/s) - written to stdout [91524]

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.7 (node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.7: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

added 1029 packages from 415 contributors and audited 11636 packages in 20.869s
found 311 vulnerabilities (4 moderate, 307 high)
  run `npm audit fix` to fix them, or `npm audit` for details
Removing intermediate container 7a0c938acb1c
 ---> 3b96f9a5de9c
Step 6/6 : CMD npm start
 ---> Running in 9d05d29b52eb
Removing intermediate container 9d05d29b52eb
 ---> 6211921ab317
Successfully built 6211921ab317
Successfully tagged frontend:3.1
$ docker history --no-trunc backend:3.1
IMAGE                                                                     CREATED             CREATED BY                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     SIZE                COMMENT
sha256:7487d10577710e7986f69c78dda87fbab6090f76742a9f5797ae8c800fa03524   32 minutes ago      /bin/sh -c #(nop)  CMD ["/bin/sh" "-c" "npm start"]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            0B                  
sha256:cfcf69eaf8c22c56c91fbabea4d60424c582f431bafe37309543e2b5840b629f   About a minute ago   /bin/sh -c wget -O - https://github.com/docker-hy/backend-example-docker/tarball/master | tar xz &&     mv -f docker-hy-backend-example-docker-*/* . &&     rm -f -r docker-hy-backend-example-docker-* &&     mkdir /home/node/logs &&     mv -f logs.txt logs/ &&     ln -s /home/node/logs/logs.txt /home/node/logs.txt &&     npm install --production --global cross-env &&     npm install --production &&     rm -f -r README.md /var/cache/* /var/log/* /var/tmp/* /tmp/* &&     chown -R node:node .                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 52.5MB              
sha256:823476ddb2a587d33dfbfce63d37005898f114c180272ad3446d4f0d2c4bd4aa   45 minutes ago      /bin/sh -c #(nop) WORKDIR /home/node/                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          0B                  
sha256:081898013cb05b1612aaf5ed39681d15cf47a3c850616e06134aa2a51379b0b1   45 minutes ago      /bin/sh -c #(nop)  ENV FRONT_URL=http://nginx:80                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               0B                  
sha256:cf758416953cefa5e821b0e97b5556a2f3c5b8144313efe9577b05b08105a40f   45 minutes ago      /bin/sh -c #(nop)  EXPOSE 8000                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 0B                  
sha256:2523ec7bd8fdfe58d57df5d90044f82def16a9779a6fa37e16305f69bc4bff6b   13 hours ago        /bin/sh -c #(nop)  CMD ["node"]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                0B                  
<missing>                                                                 13 hours ago        /bin/sh -c #(nop)  ENTRYPOINT ["docker-entrypoint.sh"]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         0B                  
<missing>                                                                 13 hours ago        /bin/sh -c #(nop) COPY file:238737301d47304174e4d24f4def935b29b3069c03c72ae8de97d94624382fce in /usr/local/bin/                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                116B                
<missing>                                                                 13 hours ago        /bin/sh -c set -ex   && for key in     6A010C5166006599AA17F08146C2130DFD2497F5   ; do     gpg --batch --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-keys "$key" ||     gpg --batch --keyserver hkp://ipv4.pool.sks-keyservers.net --recv-keys "$key" ||     gpg --batch --keyserver hkp://pgp.mit.edu:80 --recv-keys "$key" ;   done   && curl -fsSLO --compressed "https://yarnpkg.com/downloads/$YARN_VERSION/yarn-v$YARN_VERSION.tar.gz"   && curl -fsSLO --compressed "https://yarnpkg.com/downloads/$YARN_VERSION/yarn-v$YARN_VERSION.tar.gz.asc"   && gpg --batch --verify yarn-v$YARN_VERSION.tar.gz.asc yarn-v$YARN_VERSION.tar.gz   && mkdir -p /opt   && tar -xzf yarn-v$YARN_VERSION.tar.gz -C /opt/   && ln -s /opt/yarn-v$YARN_VERSION/bin/yarn /usr/local/bin/yarn   && ln -s /opt/yarn-v$YARN_VERSION/bin/yarnpkg /usr/local/bin/yarnpkg   && rm yarn-v$YARN_VERSION.tar.gz.asc yarn-v$YARN_VERSION.tar.gz                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           5.08MB              
<missing>                                                                 13 hours ago        /bin/sh -c #(nop)  ENV YARN_VERSION=1.16.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     0B                  
<missing>                                                                 13 hours ago        /bin/sh -c buildDeps='xz-utils'     && ARCH= && dpkgArch="$(dpkg --print-architecture)"     && case "${dpkgArch##*-}" in       amd64) ARCH='x64';;       ppc64el) ARCH='ppc64le';;       s390x) ARCH='s390x';;       arm64) ARCH='arm64';;       armhf) ARCH='armv7l';;       i386) ARCH='x86';;       *) echo "unsupported architecture"; exit 1 ;;     esac     && set -ex     && apt-get update && apt-get install -y ca-certificates curl wget gnupg dirmngr $buildDeps --no-install-recommends     && rm -rf /var/lib/apt/lists/*     && for key in       94AE36675C464D64BAFA68DD7434390BDBE9B9C5       FD3A5288F042B6850C66B31F09FE44734EB7990E       71DCFD284A79C3B38668286BC97EC7A07EDE3FC1       DD8F2338BAE7501E3DD5AC78C273792F7D83545D       C4F0DFFF4E8C1A8236409D08E73BC641CC11F4C8       B9AE9905FFD7803F25714661B63B535A4C206CA9       77984A986EBC2AA786BC0F66B01FBB92821C587A       8FCCA13FEF1D0C2E91008E09770F7A9A5AE15600       4ED778F539E3634C779C87C6D7062848A1AB005C       A48C2BEE680E841632CD4E44F07496B3EB3C1762       B9E2F5981AA6E0CD28160D9FF13993A75599653C     ; do       gpg --batch --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-keys "$key" ||       gpg --batch --keyserver hkp://ipv4.pool.sks-keyservers.net --recv-keys "$key" ||       gpg --batch --keyserver hkp://pgp.mit.edu:80 --recv-keys "$key" ;     done     && curl -fsSLO --compressed "https://nodejs.org/dist/v$NODE_VERSION/node-v$NODE_VERSION-linux-$ARCH.tar.xz"     && curl -fsSLO --compressed "https://nodejs.org/dist/v$NODE_VERSION/SHASUMS256.txt.asc"     && gpg --batch --decrypt --output SHASUMS256.txt SHASUMS256.txt.asc     && grep " node-v$NODE_VERSION-linux-$ARCH.tar.xz\$" SHASUMS256.txt | sha256sum -c -     && tar -xJf "node-v$NODE_VERSION-linux-$ARCH.tar.xz" -C /usr/local --strip-components=1 --no-same-owner     && rm "node-v$NODE_VERSION-linux-$ARCH.tar.xz" SHASUMS256.txt.asc SHASUMS256.txt     && apt-get purge -y --auto-remove $buildDeps     && ln -s /usr/local/bin/node /usr/local/bin/nodejs   90.4MB              
<missing>                                                                 13 hours ago        /bin/sh -c #(nop)  ENV NODE_VERSION=12.6.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     0B                  
<missing>                                                                 13 hours ago        /bin/sh -c groupadd --gid 1000 node   && useradd --uid 1000 --gid node --shell /bin/bash --create-home node                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    333kB               
<missing>                                                                 8 days ago          /bin/sh -c #(nop)  CMD ["bash"]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                0B                  
<missing>                                                                 8 days ago          /bin/sh -c #(nop) ADD file:966bd7368f1e5a3e40fe5fab63ebe3c04719f677cc49385462e4dfda4c4096fb in /                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               55.3MB              
$ docker history --no-trunc frontend:3.1
IMAGE                                                                     CREATED             CREATED BY                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     SIZE                COMMENT
sha256:6211921ab31790d82a9dcee0d7b0c9dc3bf3f1573864b48c19034ab4a7c074a0   10 minutes ago      /bin/sh -c #(nop)  CMD ["/bin/sh" "-c" "npm start"]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            0B                  
sha256:3b96f9a5de9c64934c29a87f922141c856f402ffdea37b37e1000eb7d22ef66b   10 minutes ago      /bin/sh -c wget -O - https://github.com/docker-hy/frontend-example-docker/tarball/master | tar xz &&     mv -f docker-hy-frontend-example-docker-*/* . &&     rm -f -r docker-hy-frontend-example-docker-* &&     mkdir /home/node/logs &&     touch /home/node/logs/logs.txt &&     ln -s /home/node/logs/logs.txt /home/node/logs.txt &&     npm install --production &&     rm -f -r README.md /var/cache/* /var/log/* /var/tmp/* /tmp/* &&     chown -R node:node .                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        155MB               
sha256:e2f01d0925ecd591d8445bab1a045822b808c5c3c9c9d345779d1bf1692c185b   10 minutes ago      /bin/sh -c #(nop) WORKDIR /home/node/                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          0B                  
sha256:b09148e0636eaa98aed5858101920329ded6cad2aab327ad6866e12df9ff7a9c   10 minutes ago      /bin/sh -c #(nop)  ENV API_URL=http://localhost:80/api                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         0B                  
sha256:cb41318bfc6f1027fb3f435cca60bc992ab0c6c4903a078c8bd7e2b3505a24ac   10 minutes ago      /bin/sh -c #(nop)  EXPOSE 5000                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 0B                  
sha256:2523ec7bd8fdfe58d57df5d90044f82def16a9779a6fa37e16305f69bc4bff6b   13 hours ago        /bin/sh -c #(nop)  CMD ["node"]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                0B                  
<missing>                                                                 13 hours ago        /bin/sh -c #(nop)  ENTRYPOINT ["docker-entrypoint.sh"]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         0B                  
<missing>                                                                 13 hours ago        /bin/sh -c #(nop) COPY file:238737301d47304174e4d24f4def935b29b3069c03c72ae8de97d94624382fce in /usr/local/bin/                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                116B                
<missing>                                                                 13 hours ago        /bin/sh -c set -ex   && for key in     6A010C5166006599AA17F08146C2130DFD2497F5   ; do     gpg --batch --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-keys "$key" ||     gpg --batch --keyserver hkp://ipv4.pool.sks-keyservers.net --recv-keys "$key" ||     gpg --batch --keyserver hkp://pgp.mit.edu:80 --recv-keys "$key" ;   done   && curl -fsSLO --compressed "https://yarnpkg.com/downloads/$YARN_VERSION/yarn-v$YARN_VERSION.tar.gz"   && curl -fsSLO --compressed "https://yarnpkg.com/downloads/$YARN_VERSION/yarn-v$YARN_VERSION.tar.gz.asc"   && gpg --batch --verify yarn-v$YARN_VERSION.tar.gz.asc yarn-v$YARN_VERSION.tar.gz   && mkdir -p /opt   && tar -xzf yarn-v$YARN_VERSION.tar.gz -C /opt/   && ln -s /opt/yarn-v$YARN_VERSION/bin/yarn /usr/local/bin/yarn   && ln -s /opt/yarn-v$YARN_VERSION/bin/yarnpkg /usr/local/bin/yarnpkg   && rm yarn-v$YARN_VERSION.tar.gz.asc yarn-v$YARN_VERSION.tar.gz                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           5.08MB              
<missing>                                                                 13 hours ago        /bin/sh -c #(nop)  ENV YARN_VERSION=1.16.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     0B                  
<missing>                                                                 13 hours ago        /bin/sh -c buildDeps='xz-utils'     && ARCH= && dpkgArch="$(dpkg --print-architecture)"     && case "${dpkgArch##*-}" in       amd64) ARCH='x64';;       ppc64el) ARCH='ppc64le';;       s390x) ARCH='s390x';;       arm64) ARCH='arm64';;       armhf) ARCH='armv7l';;       i386) ARCH='x86';;       *) echo "unsupported architecture"; exit 1 ;;     esac     && set -ex     && apt-get update && apt-get install -y ca-certificates curl wget gnupg dirmngr $buildDeps --no-install-recommends     && rm -rf /var/lib/apt/lists/*     && for key in       94AE36675C464D64BAFA68DD7434390BDBE9B9C5       FD3A5288F042B6850C66B31F09FE44734EB7990E       71DCFD284A79C3B38668286BC97EC7A07EDE3FC1       DD8F2338BAE7501E3DD5AC78C273792F7D83545D       C4F0DFFF4E8C1A8236409D08E73BC641CC11F4C8       B9AE9905FFD7803F25714661B63B535A4C206CA9       77984A986EBC2AA786BC0F66B01FBB92821C587A       8FCCA13FEF1D0C2E91008E09770F7A9A5AE15600       4ED778F539E3634C779C87C6D7062848A1AB005C       A48C2BEE680E841632CD4E44F07496B3EB3C1762       B9E2F5981AA6E0CD28160D9FF13993A75599653C     ; do       gpg --batch --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-keys "$key" ||       gpg --batch --keyserver hkp://ipv4.pool.sks-keyservers.net --recv-keys "$key" ||       gpg --batch --keyserver hkp://pgp.mit.edu:80 --recv-keys "$key" ;     done     && curl -fsSLO --compressed "https://nodejs.org/dist/v$NODE_VERSION/node-v$NODE_VERSION-linux-$ARCH.tar.xz"     && curl -fsSLO --compressed "https://nodejs.org/dist/v$NODE_VERSION/SHASUMS256.txt.asc"     && gpg --batch --decrypt --output SHASUMS256.txt SHASUMS256.txt.asc     && grep " node-v$NODE_VERSION-linux-$ARCH.tar.xz\$" SHASUMS256.txt | sha256sum -c -     && tar -xJf "node-v$NODE_VERSION-linux-$ARCH.tar.xz" -C /usr/local --strip-components=1 --no-same-owner     && rm "node-v$NODE_VERSION-linux-$ARCH.tar.xz" SHASUMS256.txt.asc SHASUMS256.txt     && apt-get purge -y --auto-remove $buildDeps     && ln -s /usr/local/bin/node /usr/local/bin/nodejs   90.4MB              
<missing>                                                                 13 hours ago        /bin/sh -c #(nop)  ENV NODE_VERSION=12.6.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     0B                  
<missing>                                                                 13 hours ago        /bin/sh -c groupadd --gid 1000 node   && useradd --uid 1000 --gid node --shell /bin/bash --create-home node                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    333kB               
<missing>                                                                 8 days ago          /bin/sh -c #(nop)  CMD ["bash"]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                0B                  
<missing>                                                                 8 days ago          /bin/sh -c #(nop) ADD file:966bd7368f1e5a3e40fe5fab63ebe3c04719f677cc49385462e4dfda4c4096fb in /                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               55.3MB              
$ docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
frontend            3.1                 6211921ab317        10 minutes ago      306MB
backend             3.1                 7487d1057771        33 minutes ago      204MB
frontend            2.10                3f070fa0d96c        About an hour ago   1.06GB
backend             2.10                619fd409a262        About an hour ago   966MB
node                slim                2523ec7bd8fd        13 hours ago        151MB
node                latest              7c412a558705        6 days ago          907MB
$
